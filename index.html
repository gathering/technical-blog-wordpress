



	
		
    <section class="left-content">
		
			<article>

				<h1><a href="/blog/162">Påsken nærmer seg!</a></h1>
				<div class="meta">
    01 Apr 2019,
        by <a href="/blog/author/18/">Sjur Fredriksen</a>
        from <a href="/blog/crew/1/">Tech:Net</a>
    <div class="meta-right"><a href="/blog/162#comments">Add comment</a></div>
</div>

				<h2>Oppdatering fra Tech om The Gathering 2019 designet</h2>
<p>The Gathering 2019 rykker stadig nærmere, og det er på tide at Tech:Net skriver kort om årets nettverks design og hvilket utstyr vi skal bruke. Det blir ikke veldig spennende for dere som leste om fjoråret, da vi utstyrsmessig, stort sett kommer til å gjøre nøyaktig det samme i år som i fjor, men les gjerne igjennom for å friske opp minnene dine!</p>
<p>TG19 i korte trekk:<br />
- Det blir Juniper switcher og rutere i kjerne og til deltagere.<br />
- Det blir Fortinet brannmur og wifi.<br />
- Det blir Telenor for Internett.<br />
- Det blir Nextron for servere.</p>
<p><img alt="TG-19-design" src="https://tech.gathering.org/media/tg19-design-5.png" title="TG19-design" /></p>
<h5>Kjernenett</h5>
<p>Helt siden TG15 har kjernenettet (backbonet) vært basert på 2x 40 Gbit Ethernet. Utstyr, og plasseringen av dette har vært litt ulik fra år til år, men i år blir det likt som i fjor.</p>
<p>Kjerneringen vår blir bestående av tre rutere: <br />
- r1.tele (2x QFX5100 i VC): Grenseruter mot Telenor og aksess for infrastruktur servere. Står plassert i telematikkrommet i Vikingskipet hvor fiber kommer inn.<br />
- r1.stand (4x QFX5100 i VC): Ruter for game-, event- og infrastruktur -servere samt wireless kontroller. Står (på utstilling) i Tech:Net sin stand i sponsorgata.<br />
- r1.noc (1x MX480): Ruter for alle deltagere. Står plassert ved glassburet hvor NOC sitter.</p>
<h5>Core og distribusjon til deltagere</h5>
<p>I år, som i fjor blir det en sammenfallet kjerne (collapsed core) bestående av en Juniper MX480 og 9 distribusjonsswitcher med 3x Juniper EX3300 satt opp i vritual-chassis. MX480en blir plasser ved NOCen, og fra den har vi 2x 10 Gbit Ethernet på hvert sitt fiberpar ned til alle distro switchene på gulvet. </p>
<p>MX480en har vlanene for samtlige bordswitcher og gjør videresending av DHCP pakkene til DHCP serverene våre. </p>
<p>Vi har valgt å gå for denne modellen da vi over tid har lært at Juniper sine EX3300 switcher ikke er kraftige nok til å håndtere lag3 og DHCP videresending med de kravene vi stiller. Det har vært fler tilfeller i tidligere år hvor vi har opplevd problemer med disse switchene. MX480en har mye kraftigere hardware, og takler nettverk som er mye større enn hva vi produserer på TG. Vi kunne klart oss med lillebroren MX240, men disse har Juniper lite av på demolager, så er lettere å få tak i MX480er.</p>
<h5>Aksess</h5>
<p>Som tidligere år vil aksess til deltagere (og crew) gjøres via Juniper EX2200 switcher med 48 porter. På alle deltakerbordene blir disse levert med 3x 1 Gbit Ethernet. På disse switchene kjører diverse first-hop-secuirty policier slik at vi kan forhindre angrep på infrastrukturen vår, og forhindre nedetid for andre deltagere ved feil som oppstår grunnet feilkofingurasjon hos brukerene. Eksempelvis så forhindrer vi at deltagere kan kjøre egen DHCP server og skape uregelmessigheter i nettverket.</p>
<h5>Leveranser til crew og misc støttefunksjoner under TG</h5>
<p>Tradisjonelt har dette blitt gjennomført ved å utplassere enkeltstående rutere rundt om kring i kriker og kroker i Vikingskipet som kjørte OSFP ruting. Nytt av TG17 var at alle disse ruterne ble en logisk enhet ved bruk av en teknologi kalt Virutal Chassis. Da oppfører alle boksene seg som om de er en, men har mange linjekort. Det gjør at vi kun trenger å forholde oss til konfigurasjon på et sted.</p>
<p>Nytt av årets TG blir at vi utvider denne logiske boksen med et ekstra "linjekort" da vi på TG i fjor opplevde å gå tom for porter på det linjekortet som står plassert ved NOCen.</p>
<p>Denne ringen vil i år bestå av 2x EX4600 (24p), 4x EX4300 (24p) og det nye ekstra linjekoret EX4300 (48p). De to EX4600ene blir satt opp som master og backup routing engine da har litt kraftigere CPUer enn EX4300ene og følgelig håndterer bedre hendelser, og trafikk som trenger prosseseringskraft. Eksempelvis videresending av DHCP pakker, eller håndtering av brudd på forbindelser mellom switchene.<br />
Denne boksen (ringen) blir satt opp med 1x 40 Gbit Ethernet mellom hvert linjekort.</p>
<p>På linjekortene i ringen kobler vi opp tilsvarende distrubisjonsswitcher som brukes på gulvet (EX3300). Disse fungerer som distribusjonswitcher til støttecrewene som kobler seg til i EX2200er som plasseres i nærheten av crewene.</p>
<p>Vi mottok utstyret vi låner fra Juniper forrige uke, og helgen som var møttes en gjeng fra Tech:Net i Oslo for å pakke ut. Noen nøkkelenheter ble oppgradert til Junos 18.1 (mer om hvorfor kommer nok i en egen post senere!), og fikk basic config.</p>
<p>EXene og QFXene vi låner kom i denne fine kassen:<br />
<img alt="VanVault" src="https://tech.gathering.org/media/_34a7900.jpg" title="VanVault" /></p>
<p>Og her har vi ringen, klargjort med basic config og stående i VC. Klar for å spres ut i skipet. Hvis noen lurer, EX4300ene til høyre i bildet har sine 40 Gbit Ethernet porter i baken!<br />
<img alt="Ringen" src="https://tech.gathering.org/media/_34a7953.jpg" title="Ringen" /></p>
<p>For å kunne spre boksen r1.ring utover hele vikingskipet er vi avhenig av god fiberinfrastrutkur i skipet. Det ble lagt ned en enorm insatts i dette for noen år siden, og hvis du ønsker å lese om det og se bilder kan du se her:</p>
<ul>
<li><a href="https://tech.gathering.org/blog/114/fiber-optics-improvements-in-vikingskipet-1" title="https://tech.gathering.org/blog/114/fiber-optics-improvements-in-vikingskipet-1">https://tech.gathering.org/blog/114/fiber-optics-improvements-in-vikingskipet-1</a></li>
<li><a href="https://tech.gathering.org/blog/70/fiber-optics-improvements-in-vikingskipet-2-and-3" title="https://tech.gathering.org/blog/70/fiber-optics-improvements-in-vikingskipet-2-and-3">https://tech.gathering.org/blog/70/fiber-optics-improvements-in-vikingskipet-2-and-3</a></li>
</ul>

                
                    <div class="labels">
                        <strong>Labels:</strong>

                        
                            <a href="/blog/tag/16/">Tech TG19</a>
                        
                    </div>
                

			</article>


    </section>

    